# μ„±λ¥ λ¶„μ„ λ° μµμ ν™” μ μ•

## π― ν„μ¬ κµ¬μ΅° λ¶„μ„

### 1. μΊμ‹± ν„ν™©
- **μΊμ‹ μ μ¤‘λ¥ **: κ·Ήν λ‚®μ (~1-2%)
- **λ€ν™” ν¨ν„΄ λ€λ¶€λ¶„**: μΊμ‹ λ―Έμ¤
- **μΊμ‹ μ¤λ²„ν—¤λ“**: λ§¤ μ”μ²­λ§λ‹¤ μ •κ·μ‹ λ§¤μΉ­ μ‹λ„ (λ¶ν•„μ”)
- **κ²°κ³Ό**: μΊμ‹±μ΄ κ±°μ μλ―Έ μ—†μ

### 2. κ³ λ„ν™” κΈ°λ¥ μ„±λ¥
- **κ°μ • λ¶„μ„**: +1μ΄ μ§€μ—°
- **λ§¥λ½ μ¶”μ¶**: +1μ΄ μ§€μ—°
- **μ‹κ°„λ€λ³„ μ»¨ν…μ¤νΈ**: ~0μ΄ (λ΅μ»¬ κ³„μ‚°)
- **μ΄ μ¶”κ°€ μ§€μ—°**: +2μ΄ (ν™μ„±ν™” μ‹)

## π“ μ μ• λΉ„κµ

### μ μ• A: ν„μ¬ μ μ§€ (μ¶”μ²) β­
```python
# κΈ°λ³Έ λ¨λ“: emotion_context=None, contextual_info=None
# μ„±λ¥: ~1μ΄
# κ°μΈν™”: μ—†μ
```
**μ¥μ **: κ°€μ¥ λΉ λ¦„, λ‹¨μν•¨
**λ‹¨μ **: κ°μΈν™” μ—†μ
**ν¨μ¨μ„±**: β­β­β­β­β­

---

### μ μ• B: κ²½λ‰ κ°μΈν™” (κ· ν•μ΅ν μ„ νƒ)
```python
# κ°μ • λ¶„μ„λ§ μ‚¬μ©
emotion = llm_service.analyze_emotion(user_message)
# μ„±λ¥: ~2μ΄
# κ°μΈν™”: κ°μ • κΈ°λ° ν†¤λ§
```
**μ¥μ **: μ λ‹Ήν• κ°μΈν™”, μ„±λ¥κ³Ό ν’μ§ κ· ν•
**λ‹¨μ **: λ§¥λ½ μ •λ³΄ μ—†μ
**ν¨μ¨μ„±**: β­β­β­β­

---

### μ μ• C: μ „μ²΄ κ°μΈν™” (μµκ³  ν’μ§)
```python
# κ°μ • + λ§¥λ½ λ¨λ‘ μ‚¬μ©
emotion = llm_service.analyze_emotion(user_message)
context = llm_service.extract_contextual_info(user_message, history)
# μ„±λ¥: ~3μ΄
# κ°μΈν™”: μµκ³  μμ¤€
```
**μ¥μ **: μµκ³  ν’μ§, μ™„μ „ν• κ°μΈν™”
**λ‹¨μ **: λλ¦Ό (3λ°°)
**ν¨μ¨μ„±**: β­β­β­

## π― μµμΆ… κ¶μ¥μ‚¬ν•­

### μ¦‰μ‹ μ μ©: μ μ• A (ν„μ¬ μƒνƒ μ μ§€) β…
**μ΄μ **:
1. ν„μ¬ κµ¬μ΅°μ—μ„ `main.py`κ°€ μ΄λ―Έ `emotion_context=None`, `contextual_info=None` μ „λ‹¬
2. μ¶”κ°€ μ§€μ—° μ—†μ
3. μ•μ •μ μ΄κ³  λΉ λ¦„

### μ„ νƒμ  ν™μ„±ν™”: ν•„μ”μ‹ μ μ• B λλ” C
**μ‚¬μ© μ**:
```python
# λΉ λ¥Έ κΈ°λ³Έ λ¨λ“
response = llm_service.generate_response_streaming(user_message, history)

# κ°μΈν™” ν•„μ”μ‹ (μ‚¬μ©μκ°€ μµμ… μ„ νƒ)
if enable_personalization:
    emotion = await llm_service.analyze_emotion(user_message)
    response = llm_service.generate_response_streaming(
        user_message, 
        history, 
        emotion_context=emotion
    )
```

## π’΅ μΊμ‹± μ κ±° μ΄μ 

1. **μ μλ―Έν• μΊμ‹ μ μ¤‘λ¥  μ—†μ**: μ‹¤μ  λ€ν™”μ 1-2%λ§ μΊμ‹
2. **μ¤λ²„ν—¤λ“ λ°μƒ**: λ§¤ μ”μ²­λ§λ‹¤ μ •κ·μ‹ λ§¤μΉ­ μ‹λ„
3. **λ³µμ΅λ„ μ¦κ°€**: μ½”λ“ λ³µμ΅λ„ μ¦κ°€ vs μ„±λ¥ ν–¥μƒ κ·Ήν λ―Έλ―Έ
4. **ν’μ§ μ €ν• μ„ν—**: μΊμ‹±μ„ κ°•ν™”ν•λ©΄ λΉ„μ·ν• λ€ν™”μ— λΉ„μ·ν• μ‘λ‹µ β†’ κ°μΈν™” μ €ν•

**κ²°λ΅ **: ν„μ¬ κµ¬μ΅°μ—μ„λ” μΊμ‹± μ κ±°κ°€ λ” λ‚μ β…

## π€ μ‹¤μ  ν¨μ¨μ μΈ μµμ ν™”

### 1. λ°°μΉ μ²λ¦¬ (ν–¥ν›„ κ°μ„ )
κ°μ • λ¶„μ„ + λ§¥λ½ μ¶”μ¶μ„ ν•λ‚μ LLM νΈμ¶λ΅:
- ν„μ¬: 2λ² API νΈμ¶ (+2μ΄)
- κ°μ„ : 1λ² API νΈμ¶ (+1μ΄)
- **μ κ°**: 50% μ‹κ°„ λ‹¨μ¶•

### 2. λΉ„λ™κΈ° μ²λ¦¬ (λ°±κ·ΈλΌμ΄λ“)
κ°μ •/λ§¥λ½ μ •λ³΄λ” λ°±κ·ΈλΌμ΄λ“μ—μ„ μμ§‘:
- μ¦‰μ‹ μ‘λ‹µ: ~1μ΄
- κ°μΈν™” μ •λ³΄: λ°±κ·ΈλΌμ΄λ“ μμ§‘
- λ‹¤μ λ€ν™”: μ μ§„μ  κ°μΈν™” μ μ©

### 3. μ¤λ§νΈ μΊμ‹± (μ„ νƒμ )
νΉμ • ν¨ν„΄λ§ μ—„κ²©ν•κ² μΊμ‹±:
- μ•„μ£Ό λΉλ²ν• ν¨ν„΄λ§
- λ³µμ΅ν• λ€ν™”λ” LLM νΈμ¶
- κ· ν•μ΅ν μ ‘κ·Ό

## π“ κ²°λ΅ 

**ν„μ¬ μƒνƒ**: β… μµμ 
- μΊμ‹± μ κ±°λ΅ μ¤λ²„ν—¤λ“ κ°μ†
- κΈ°λ³Έ λ¨λ“ μ μ§€λ΅ μ„±λ¥ λ³΄μ¥
- μ„ νƒμ  κ°μΈν™”λ΅ ν’μ§ ν–¥μƒ κ°€λ¥

**ν–¥ν›„ κ°μ„ **: λ°°μΉ μ²λ¦¬ κµ¬ν„
- κ°μ • + λ§¥λ½μ„ ν•λ‚μ νΈμ¶λ΅
- μ§€μ—° μ‹κ°„ 50% λ‹¨μ¶•

