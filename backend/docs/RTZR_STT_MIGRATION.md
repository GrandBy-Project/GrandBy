# RTZR WebSocket STT ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. ì½”ë“œ ìˆ˜ì •
- âœ… `backend/app/config.py` - RTZR ì„¤ì • ì¶”ê°€
- âœ… `backend/app/services/ai_call/stt_service.py` - RTZR STT êµ¬í˜„
- âœ… `backend/requirements.txt` - websockets ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
- âœ… `backend/env.example` - RTZR í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€

### 2. ì„¤ì¹˜ ì™„ë£Œ
- âœ… Docker ì»¨í…Œì´ë„ˆì— websockets==13.1 ì„¤ì¹˜ ì™„ë£Œ

---

## ğŸ”§ í™˜ê²½ ì„¤ì •

### 1. `.env` íŒŒì¼ì— ë‹¤ìŒ ì¶”ê°€

```bash
# STT ì œê³µì ë³€ê²½
STT_PROVIDER=rtzr

# RTZR ì¸ì¦ ì •ë³´ (ë°œê¸‰ë°›ì€ ê°’ìœ¼ë¡œ ë³€ê²½)
RTZR_CLIENT_ID=your_client_id_here
RTZR_CLIENT_SECRET=your_client_secret_here
```

### 2. Docker ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ (í™˜ê²½ ë³€ìˆ˜ ë°˜ì˜)

```bash
docker-compose restart api
```

---

## ğŸ“Š ì£¼ìš” ë³€ê²½ ì‚¬í•­

### Before (Google STT)
```
ì‚¬ìš©ì ë°œí™” â†’ AudioProcessor (0.5ì´ˆ ì¹¨ë¬µ ëŒ€ê¸°) â†’ Google REST API (650ms) â†’ ê²°ê³¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´ ì§€ì—°: ì•½ 1,150ms
```

### After (RTZR WebSocket STT)
```
ì‚¬ìš©ì ë°œí™” â†’ RTZR WebSocket STT (ì¦‰ì‹œ ì „ì†¡) â†’ ê²°ê³¼ (300-500ms)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´ ì§€ì—°: ì•½ 300-500ms
ì„±ëŠ¥ í–¥ìƒ: ì•½ 650ms ê°œì„  (56% ë¹ ë¦„)
```

---

## ğŸ¯ RTZR STT ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
- ì¹¨ë¬µ ê°ì§€ ëŒ€ê¸° ì—†ì´ ì¦‰ì‹œ ì „ì†¡
- ì¤‘ê°„ ê²°ê³¼ë„ ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ˜ì‹  ê°€ëŠ¥

### 2. í•œêµ­ì–´ ìµœì í™”
- í•œêµ­ì–´ ì¸ì‹ ì •í™•ë„ í–¥ìƒ
- ì—­í…ìŠ¤íŠ¸ ì •ê·œí™” (ITN): ìˆ«ì ë“± ìì—°ìŠ¤ëŸ¬ìš´ ë³€í™˜
- ë”ë“¬ìŒ í•„í„°: "ìŒ...", "ì•„..." ë“± í•„í„°ë§

### 3. WebSocket ê¸°ë°˜
- HTTP ì˜¤ë²„í—¤ë“œ ì œê±°
- ì§€ì† ì—°ê²°ë¡œ ë¹ ë¥¸ ì‘ë‹µ

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. í™˜ê²½ ë³€ìˆ˜ í™•ì¸

```bash
# Docker ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ í™•ì¸
docker exec grandby_api python -c "
from app.config import settings
print(f'STT Provider: {settings.STT_PROVIDER}')
print(f'RTZR Client ID: {settings.RTZR_CLIENT_ID[:10]}...')
"
```

### 2. ê°„ë‹¨í•œ STT í…ŒìŠ¤íŠ¸

```bash
# ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
docker exec grandby_api python /app/test_stt_auto.py
```

ì˜ˆìƒ ê²°ê³¼:
```
ğŸ“Š ìµœì¢… ê²°ê³¼ ìš”ì•½
â±ï¸  ì‘ë‹µ ì‹œê°„ í†µê³„:
   - í‰ê· : 0.350-0.500ì´ˆ (ê¸°ì¡´: 1.092ì´ˆ)
   - ìµœì†Œ: 0.250-0.400ì´ˆ
   - ìµœëŒ€: 0.600-0.800ì´ˆ
```

---

## âš ï¸ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: "RTZR STT ì´ˆê¸°í™” ì‹¤íŒ¨"
```bash
# .env íŒŒì¼ í™•ì¸
docker exec grandby_api cat /app/.env | grep RTZR

# ì˜¬ë°”ë¥¸ ê°’ì´ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
```

### ë¬¸ì œ 2: "ì›¹ì†Œì¼“ ì—°ê²° ì‹¤íŒ¨"
```bash
# ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
docker exec grandby_api python -c "
import requests
resp = requests.get('https://openapi.vito.ai/v1/health')
print(f'ì—°ê²° ìƒíƒœ: {resp.status_code}')
"
```

### ë¬¸ì œ 3: "ì¸ì¦ ì‹¤íŒ¨"
```bash
# RTZR ì¸ì¦ ì •ë³´ í™•ì¸
# https://developers.rtzr.ai ì—ì„œ Client ID/Secret ì¬í™•ì¸
```

---

## ğŸ“ˆ ì„±ëŠ¥ ë¹„êµ

| í•­ëª© | Google STT | RTZR STT | ê°œì„ ìœ¨ |
|------|-----------|----------|--------|
| **í‰ê·  ì‘ë‹µ** | 650ms | 400ms | -38% |
| **ì¹¨ë¬µ ëŒ€ê¸°** | 500ms | 0ms | -100% |
| **ì´ ì§€ì—°** | 1,150ms | 400ms | -65% |
| **í•œêµ­ì–´ í’ˆì§ˆ** | ì¢‹ìŒ | ë§¤ìš° ì¢‹ìŒ | - |
| **ì‹¤ì‹œê°„ ì²˜ë¦¬** | âŒ | âœ… | - |

---

## ğŸ”„ Google STTë¡œ ë˜ëŒë¦¬ê¸°

í•„ìš”ì‹œ ì‰½ê²Œ ë˜ëŒë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# .env íŒŒì¼ ìˆ˜ì •
STT_PROVIDER=google

# Docker ì¬ì‹œì‘
docker-compose restart api
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [RTZR ê³µì‹ ë¬¸ì„œ](https://developers.rtzr.ai/docs/stt-streaming/websocket/)
- [RTZR API í‚¤ ë°œê¸‰](https://developers.rtzr.ai/)
- [WebSocket ìŠ¤íŠ¸ë¦¬ë° ê°€ì´ë“œ](https://developers.rtzr.ai/docs/stt-streaming/websocket/)

---

## ğŸ‰ ê²°ë¡ 

RTZR WebSocket STTë¡œ ì „í™˜í•˜ë©´:
1. **ì‘ë‹µ ì†ë„ 65% ê°œì„ ** (1.15ì´ˆ â†’ 0.4ì´ˆ)
2. **ì¹¨ë¬µ ëŒ€ê¸° ì‹œê°„ ì œê±°** (0.5ì´ˆ â†’ 0ì´ˆ)
3. **í•œêµ­ì–´ ì¸ì‹ í’ˆì§ˆ í–¥ìƒ**
4. **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì§€ì›**

ì¦‰ì‹œ ì‚¬ìš©ì ê²½í—˜ì´ í¬ê²Œ ê°œì„ ë©ë‹ˆë‹¤! ğŸš€

